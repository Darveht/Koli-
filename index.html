<!DOCTYPE html>
<html lang="es">
<head>
  <!-- Metaetiquetas básicas y de seguridad para evitar alertas de phishing -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DrakAsia - Consolidado</title>
  <meta name="description" content="Página oficial de DrakAsia que integra Política de Privacidad, Anuncio Oficial, DrakAsia Premium y K-DramaWiki. No se recopilan datos, es 100% informativa y apta para móviles.">
  <meta name="robots" content="index,follow">
  <link rel="canonical" href="https://www.tu-dominio.com/">
  <!-- Content Security Policy (ajusta los orígenes según tu dominio y necesidades) -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://cdnjs.cloudflare.com https://cdn.tailwindcss.com; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://cdn.tailwindcss.com; script-src 'self' 'unsafe-inline' https://cdn.tailwindcss.com;">
  <!-- Fuentes de iconos y Tailwind CSS (tal como en el código original) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" crossorigin="anonymous">
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Se combinan (sin quitar) los estilos originales de cada sección -->
  <style>
    /* ===== Política de Privacidad ===== */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #121212;
      color: #fff;
      overflow-x: hidden;
    }
    .privacy-arrow {
      position: fixed;
      top: 50%;
      right: 0;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50px 0 0 50px;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 1000;
      transform: translateY(-50%);
      transition: transform 0.3s, background 0.3s;
    }
    .privacy-arrow:hover { background: rgba(255, 255, 255, 0.2); }
    .privacy-arrow i { color: #fff; font-size: 20px; }
    .privacy-icon {
      position: fixed;
      top: 50%;
      right: 60px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      width: 60px;
      height: 60px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
      cursor: pointer;
      z-index: 1000;
      opacity: 0;
      pointer-events: none;
      transform: translateY(-50%) scale(0);
      transition: all 0.3s ease;
    }
    .privacy-icon.active {
      opacity: 1;
      pointer-events: all;
      transform: translateY(-50%) scale(1);
    }
    .privacy-icon i { color: #fff; font-size: 24px; }
    .privacy-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1100;
    }
    .privacy-modal.active { display: flex; }
    .modal-content {
      background: #1f1f1f;
      width: 90%;
      max-width: 600px;
      max-height: 80%;
      border-radius: 10px;
      overflow-y: auto;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.6);
      padding: 20px;
      position: relative;
    }
    .modal-content::-webkit-scrollbar { width: 8px; }
    .modal-content::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 10px;
    }
    .modal-content h2 {
      margin-top: 0;
      font-size: 24px;
      text-align: center;
    }
    .modal-content p {
      font-size: 14px;
      line-height: 1.6;
      margin-bottom: 10px;
    }
    .close-modal {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 18px;
      color: #fff;
      background: none;
      border: none;
      cursor: pointer;
    }
    .close-modal:hover { color: #f00; }

    /* ===== Anuncio Oficial ===== */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body.announcement-body { overflow: hidden; }
    .announcement {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    .announcement-box {
      background: #fff;
      border-radius: 10px;
      padding: 20px;
      width: 90%;
      max-width: 400px;
      text-align: center;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
      position: relative;
      animation: slideIn 0.5s ease-in-out;
    }
    @keyframes slideIn {
      from { transform: translateY(-50%); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .profile-pic {
      width: 100px; height: 100px;
      border-radius: 50%;
      margin: 0 auto;
      position: relative;
      border: 3px solid #007bff;
    }
    .profile-pic img {
      width: 100%; height: 100%;
      object-fit: cover;
      border-radius: 50%;
    }
    .verified {
      position: absolute;
      bottom: -10px; right: -10px;
      background: #007bff;
      color: #fff;
      border-radius: 50%;
      padding: 6px;
      font-size: 14px;
      border: 2px solid #fff;
    }
    h2.announcement-title { margin-top: 15px; font-size: 24px; color: #333; }
    p.announcement-text { color: #666; margin: 10px 0 20px; font-size: 16px; }
    .welcome { font-size: 18px; color: #007bff; margin-bottom: 20px; }
    .close-btn {
      background: #007bff;
      color: #fff;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .close-btn:hover { background: #0056b3; }
    .confetti {
      position: fixed;
      top: 0; left: 50%;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 1000;
    }

    /* ===== DrakAsia Premium Estilo Twitter ===== */
    body.premium-body {
      background: linear-gradient(135deg, #6a11cb, #2575fc);
      color: #fff;
      font-family: Arial, sans-serif;
      margin: 0; padding: 0;
    }
    
    .icon-button {
      position: fixed;
      bottom: 20px;
      width: 60px; height: 60px;
      background: linear-gradient(135deg, #FFD700, #FFA500);
      color: #fff;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.4);
      transition: all 0.3s ease;
      z-index: 1000;
      border: 2px solid rgba(255, 255, 255, 0.3);
    }
    .icon-button:hover { 
      transform: scale(1.1) translateY(-2px); 
      box-shadow: 0 12px 35px rgba(255, 215, 0, 0.6);
    }
    .icon-premium { left: 20px; }
    .icon-privacy { 
      left: 100px; 
      background: linear-gradient(135deg, #1da1f2, #0d8bd9);
      box-shadow: 0 8px 25px rgba(29, 161, 242, 0.4);
    }
    .icon-privacy:hover {
      box-shadow: 0 12px 35px rgba(29, 161, 242, 0.6);
    }

    /* Modal Premium expandido estilo Twitter */
    .premium-modal-fullscreen {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: linear-gradient(135deg, #000000, #1a1a2e, #16213e);
      z-index: 1001;
      display: none;
      overflow-y: auto;
      animation: slideInFromBottom 0.4s ease-out;
    }
    
    @keyframes slideInFromBottom {
      from {
        opacity: 0;
        transform: translateY(100%);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .premium-header {
      position: sticky;
      top: 0;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 215, 0, 0.2);
      padding: 16px 20px;
      z-index: 10;
    }
    
    .premium-content {
      padding: 40px 20px;
      max-width: 600px;
      margin: 0 auto;
      text-align: center;
    }
    
    .premium-crown {
      font-size: 80px;
      color: #FFD700;
      margin-bottom: 20px;
      animation: float 3s ease-in-out infinite;
      text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }
    
    .premium-title {
      font-size: 42px;
      font-weight: bold;
      background: linear-gradient(45deg, #FFD700, #FFA500, #FFD700);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: gradientShift 3s ease infinite;
      margin-bottom: 16px;
    }
    
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    
    .premium-subtitle {
      font-size: 18px;
      color: #94a3b8;
      margin-bottom: 40px;
      opacity: 0;
      animation: fadeInUp 0.6s ease 0.2s forwards;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .premium-features {
      display: grid;
      gap: 20px;
      margin-bottom: 40px;
    }
    
    .premium-feature {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 215, 0, 0.2);
      border-radius: 16px;
      padding: 24px;
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
      opacity: 0;
      animation: slideInFeature 0.5s ease forwards;
    }
    
    .premium-feature:nth-child(1) { animation-delay: 0.1s; }
    .premium-feature:nth-child(2) { animation-delay: 0.2s; }
    .premium-feature:nth-child(3) { animation-delay: 0.3s; }
    .premium-feature:nth-child(4) { animation-delay: 0.4s; }
    
    @keyframes slideInFeature {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    .premium-feature:hover {
      transform: translateY(-5px);
      border-color: rgba(255, 215, 0, 0.5);
      box-shadow: 0 10px 25px rgba(255, 215, 0, 0.2);
    }
    
    .premium-feature i {
      font-size: 32px;
      color: #FFD700;
      margin-bottom: 12px;
      display: block;
    }
    
    .premium-feature h4 {
      font-size: 20px;
      color: white;
      margin-bottom: 8px;
      font-weight: 600;
    }
    
    .premium-feature p {
      color: #94a3b8;
      font-size: 14px;
      line-height: 1.5;
    }
    
    .premium-activate-btn {
      background: linear-gradient(135deg, #FFD700, #FFA500);
      color: #000;
      border: none;
      padding: 16px 48px;
      border-radius: 50px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
      margin: 20px 0;
      position: relative;
      overflow: hidden;
    }
    
    .premium-activate-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 35px rgba(255, 215, 0, 0.5);
    }
    
    .premium-activate-btn:active {
      transform: scale(0.98);
    }
    
    .premium-activate-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s;
    }
    
    .premium-activate-btn:hover::before {
      left: 100%;
    }
    
    .premium-close-btn {
      background: none;
      border: none;
      color: #94a3b8;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      padding: 8px;
      border-radius: 50%;
    }
    
    .premium-close-btn:hover {
      color: white;
      background: rgba(255, 255, 255, 0.1);
      transform: rotate(90deg);
    }
    
    /* Modo Internet/Sin Internet mejorado */
    .connection-status {
      position: fixed;
      top: 80px;
      right: 20px;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(10px);
      border-radius: 12px;
      padding: 12px 16px;
      border: 1px solid rgba(255, 255, 255, 0.1);
      z-index: 1000;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .connection-status.online {
      border-color: rgba(34, 197, 94, 0.5);
      box-shadow: 0 4px 15px rgba(34, 197, 94, 0.2);
    }
    
    .connection-status.offline {
      border-color: rgba(239, 68, 68, 0.5);
      box-shadow: 0 4px 15px rgba(239, 68, 68, 0.2);
    }
    
    .connection-indicator {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      animation: pulse 2s infinite;
    }
    
    .connection-indicator.online {
      background: #22c55e;
    }
    
    .connection-indicator.offline {
      background: #ef4444;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }
    
    .offline-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: linear-gradient(135deg, #1a1a2e, #16213e, #0f0f23);
      z-index: 9999;
      display: none;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      animation: slideInOffline 0.5s ease-out;
    }
    
    @keyframes slideInOffline {
      from {
        opacity: 0;
        transform: scale(0.9);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    
    .offline-icon {
      font-size: 80px;
      color: #ef4444;
      margin-bottom: 20px;
      animation: bounce 2s infinite;
    }
    
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-10px); }
      60% { transform: translateY(-5px); }
    }
    
    .modal {
      display: none;
    }
    
    .notification {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #1da1f2, #0d8bd9);
      color: #fff;
      padding: 16px 24px;
      border-radius: 12px;
      display: none;
      z-index: 1002;
      animation: slideInNotification 0.4s ease, slideOutNotification 0.4s 2.5s ease;
      border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 8px 25px rgba(29, 161, 242, 0.3);
    }
    
    @keyframes slideInNotification {
      from {
        opacity: 0;
        transform: translateX(-50%) translateY(-100%);
      }
      to {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
      }
    }
    
    @keyframes slideOutNotification {
      to {
        opacity: 0;
        transform: translateX(-50%) translateY(-100%);
      }
    }

    /* ===== K-DramaWiki ===== */
    body.kdrama-body {
      background-color: #121212;
      color: #ffffff;
      font-family: 'Arial', sans-serif;
      scroll-behavior: smooth;
    }
    .series-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
    }
    .series-card {
      position: relative;
      border-radius: 12px;
      overflow: hidden;
      transition: transform 0.3s ease;
      height: 350px;
      width: 100%;
    }
    .series-card:hover { transform: scale(1.05); }
    .modal-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      z-index: 1000;
      overflow-y: auto;
    }
    .glowing-border {
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
    }
    .actor-container {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      justify-items: center;
      padding: 20px;
    }
    .actor-profile {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      width: 140px;
      color: #fff;
    }
    .actor-profile:hover {
      transform: translateY(-10px) scale(1.1);
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(0, 133, 255, 0.6);
    }
    .actor-profile img {
      border-radius: 20%;
      width: 140px; height: 140px;
      object-fit: cover;
      transition: transform 0.4s ease, border 0.4s ease;
      border: 3px solid transparent;
    }
    .actor-profile:hover img {
      transform: rotate(-2deg);
      border: 3px solid #0085ff;
    }
    .actor-profile p {
      margin-top: 10px;
      font-size: 16px;
      font-weight: bold;
      text-transform: uppercase;
      color: #aadfff;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8);
    }
    .star {
      font-size: 30px;
      color: #FFD700;
      cursor: pointer;
      transition: transform 0.3s ease, color 0.3s ease;
      text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
    }
    .star:hover {
      transform: scale(1.3);
      color: #FFAA00;
      text-shadow: 0 0 15px rgba(255, 170, 0, 0.8);
    }
    .star.active {
      color: #FFB400;
      text-shadow: 0 0 10px rgba(255, 180, 0, 0.7);
    }
    @keyframes bounce {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }
    .star.active { animation: bounce 0.5s ease-in-out; }
    .follow-success {
      display: none;
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      background-color: #28a745;
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      font-size: 18px;
      font-weight: bold;
      animation: fadeIn 1s ease-in-out;
    }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    /* ===== Modal Responsive (K-DramaWiki) ===== */
    /* Modal siempre en pantalla completa */
    #seriesDetailModal {
       position: fixed;
       top: 0;
       left: 0;
       width: 100vw;
       height: 100vh;
       background: rgba(0,0,0,0.95);
       z-index: 1000;
       overflow-y: auto;
    }
    
    #seriesDetailModal .container {
       padding: 0;
       width: 100%;
       height: auto;
       min-height: 100vh;
    }
    
    #seriesDetailContent {
       width: 100%;
       height: auto;
       min-height: 100vh;
       border-radius: 0;
       margin: 0;
       padding: 0;
       background: #111;
    }

    /* Animaciones de seguimiento mejoradas */
    @keyframes followSuccess {
      0% { 
        opacity: 0; 
        transform: translate(-50%, -50%) scale(0.5); 
      }
      50% { 
        opacity: 1; 
        transform: translate(-50%, -50%) scale(1.1); 
      }
      100% { 
        opacity: 1; 
        transform: translate(-50%, -50%) scale(1); 
      }
    }

    @keyframes followSuccessMobile {
      0% { 
        opacity: 0; 
        transform: translate(-50%, -50%) scale(0.7); 
      }
      50% { 
        opacity: 1; 
        transform: translate(-50%, -50%) scale(1.05); 
      }
      100% { 
        opacity: 1; 
        transform: translate(-50%, -50%) scale(1); 
      }
    }

    @keyframes checkIcon {
      0% { 
        transform: scale(0); 
        opacity: 0; 
      }
      50% { 
        transform: scale(1.2); 
        opacity: 1; 
      }
      100% { 
        transform: scale(1); 
        opacity: 1; 
      }
    }

    @keyframes checkIconMobile {
      0% { 
        transform: scale(0); 
        opacity: 0; 
      }
      50% { 
        transform: scale(1.1); 
        opacity: 1; 
      }
      100% { 
        transform: scale(1); 
        opacity: 1; 
      }
    }

    @keyframes buttonFollowed {
      0% { transform: scale(1); }
      50% { transform: scale(1.03); }
      100% { transform: scale(1); }
    }

    @keyframes buttonFollowedMobile {
      0% { transform: scale(1); }
      50% { transform: scale(1.02); }
      100% { transform: scale(1); }
    }

    .follow-notification {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: linear-gradient(135deg, #1da1f2, #0d8bd9);
      color: white;
      padding: 20px 30px;
      border-radius: 12px;
      font-size: 16px;
      font-weight: 600;
      z-index: 2000;
      box-shadow: 0 8px 25px rgba(29, 161, 242, 0.4);
      animation: followSuccess 0.5s ease-out;
      display: flex;
      align-items: center;
      gap: 12px;
      border: 2px solid rgba(255, 255, 255, 0.2);
      max-width: 90vw;
    }

    .check-icon {
      width: 20px;
      height: 20px;
      background: #1da1f2;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: checkIcon 0.5s ease-out;
      border: 2px solid white;
      flex-shrink: 0;
    }

    .actor-follow-btn {
      transition: all 0.3s ease;
    }

    .actor-follow-btn.followed {
      background: #1da1f2 !important;
      color: white !important;
      border-color: #1da1f2 !important;
      animation: buttonFollowed 0.4s ease-out;
    }

    .series-follow-btn {
      transition: all 0.3s ease;
    }

    .series-follow-btn.followed {
      color: #1da1f2 !important;
    }

    .series-follow-btn.followed .w-10 {
      background: rgba(29, 161, 242, 0.1) !important;
    }

    .series-follow-btn.followed i {
      color: #1da1f2 !important;
      animation: checkIcon 0.5s ease-out;
    }

    /* Estilos específicos para móviles */
    @media (max-width: 768px) {
      .follow-notification {
        padding: 16px 20px;
        font-size: 14px;
        border-radius: 10px;
        gap: 10px;
        animation: followSuccessMobile 0.6s ease-out;
        margin: 0 10px;
      }

      .check-icon {
        width: 18px;
        height: 18px;
        animation: checkIconMobile 0.6s ease-out;
      }

      .actor-follow-btn {
        font-size: 13px;
        padding: 6px 12px;
      }

      .actor-follow-btn.followed {
        animation: buttonFollowedMobile 0.5s ease-out;
      }

      .series-follow-btn {
        font-size: 14px;
      }

      .series-follow-btn .w-10 {
        width: 36px !important;
        height: 36px !important;
      }

      .series-follow-btn i {
        font-size: 16px;
      }

      /* Optimización para táctil */
      .actor-follow-btn:active {
        transform: scale(0.98);
      }

      .series-follow-btn:active {
        transform: scale(0.98);
      }
    }

    /* Estilos para pantallas muy pequeñas */
    @media (max-width: 480px) {
      .follow-notification {
        padding: 12px 16px;
        font-size: 13px;
        gap: 8px;
        max-width: 85vw;
      }

      .check-icon {
        width: 16px;
        height: 16px;
      }

      .actor-follow-btn {
        font-size: 12px;
        padding: 5px 10px;
      }
      
      /* Búsqueda responsive */
      #searchInput {
        width: 250px !important;
      }
      
      #searchResults {
        width: 320px !important;
        right: -20px !important;
      }
      
      /* Búsqueda en pantalla completa responsive */
      .search-suggestion {
        padding: 8px 12px;
      }
      
      .search-suggestion p {
        font-size: 14px;
      }
    }
    
    /* Estilos adicionales para búsqueda en móviles */
    @media (max-width: 768px) {
      #searchInput {
        width: 300px;
      }
      
      #searchResults {
        width: 350px;
        right: -10px;
      }
      
      .search-result-item {
        padding: 12px 16px;
      }
      
      .search-result-item img {
        width: 40px;
        height: 56px;
      }
    }

    /* ===== Estilos para búsqueda estilo Twitter ===== */
    .search-spinner {
      width: 16px;
      height: 16px;
      border: 2px solid #374151;
      border-top: 2px solid #1da1f2;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .search-result-item {
      animation: fadeInUp 0.2s ease-out;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .line-clamp-2 {
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    #searchResults {
      animation: slideDown 0.2s ease-out;
    }
    
    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    #searchInput:focus {
      box-shadow: 0 0 0 3px rgba(29, 161, 242, 0.1);
    }
    
    .search-result-item:hover {
      background: rgba(29, 161, 242, 0.05) !important;
    }
    
    /* Scrollbar personalizada para resultados de búsqueda */
    #searchResultsContent::-webkit-scrollbar {
      width: 6px;
    }
    #searchResultsContent::-webkit-scrollbar-track {
      background: #1f2937;
    }
    #searchResultsContent::-webkit-scrollbar-thumb {
      background: #374151;
      border-radius: 3px;
    }
    #searchResultsContent::-webkit-scrollbar-thumb:hover {
      background: #4b5563;
    }

    /* ===== Estilos para búsqueda en pantalla completa ===== */
    .search-suggestion {
      transition: all 0.2s ease;
    }
    
    .search-suggestion:hover {
      transform: translateY(-2px);
    }
    
    .search-full-result-item {
      animation: fadeInUp 0.3s ease-out;
      transition: all 0.2s ease;
    }
    
    .search-full-result-item:hover {
      transform: translateX(8px);
      background: rgba(29, 161, 242, 0.05) !important;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* Animación de entrada para la sección de búsqueda */
    #searchFullScreen {
      animation: slideInFromTop 0.3s ease-out;
    }
    
    @keyframes slideInFromTop {
      from {
        opacity: 0;
        transform: translateY(-100%);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* ===== Estilos adicionales para Twitter-like ===== */
    .star {
      transition: all 0.2s ease;
    }
    .star:hover {
      transform: scale(1.1);
    }
    .star.active {
      color: #FFD700 !important;
      text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
    }

    /* Botones de acción estilo Twitter */
    .twitter-action-btn {
      transition: all 0.2s ease;
    }
    .twitter-action-btn:hover {
      transform: translateY(-1px);
    }

    /* Scrollbar personalizada para el modal */
    #seriesDetailContent::-webkit-scrollbar {
      width: 8px;
    }
    #seriesDetailContent::-webkit-scrollbar-track {
      background: #1a1a1a;
    }
    #seriesDetailContent::-webkit-scrollbar-thumb {
      background: #404040;
      border-radius: 4px;
    }
    #seriesDetailContent::-webkit-scrollbar-thumb:hover {
      background: #555;
    }
  </style>
</head>
<body class="kdrama-body">
  <!-- ===== Sección: Política de Privacidad ===== -->
  <section id="privacy-section">
    <!-- (Código original sin quitar nada) -->
    <div class="privacy-arrow" id="privacyArrow">
      <i class="fas fa-arrow-left"></i>
    </div>
    <div class="privacy-icon" id="privacyIcon">
      <i class="fas fa-shield-alt"></i>
    </div>
    <div class="privacy-modal" id="privacyModal">
      <div class="modal-content">
        <button class="close-modal" id="closeModal">&times;</button>
        <h2>Política de Privacidad</h2>
        <p>
          Bienvenido a Drak Asia. Esta aplicación tiene como objetivo proporcionar información sobre series coreanas y contenido relacionado. Queremos asegurarte que no recopilamos datos de los usuarios ni requerimos registros.
        </p>
        <p><strong>Recopilación de Datos:</strong> No se realiza ninguna recopilación de datos personales. La aplicación es 100% informativa.</p>
        <p><strong>Uso de Cookies:</strong> No utilizamos cookies ni rastreamos la actividad del usuario.</p>
        <p><strong>Seguridad:</strong> Aunque no almacenamos información del usuario, mantenemos los estándares de seguridad para garantizar una experiencia confiable.</p>
        <p style="text-align: center;">¡Gracias por usar Drak Asia!</p>
      </div>
    </div>
  </section>

  <!-- ===== Sección: Anuncio Oficial ===== -->
  <section id="announcement-section">
    <div class="announcement" id="announcement">
      <div class="announcement-box">
        <div class="profile-pic">
          <img src="https://i.imgur.com/vsbX5W9.png" alt="CEO Stephanie Mejias">
          <span class="verified">
            <i class="fas fa-check"></i>
          </span>
        </div>
        <h2 class="announcement-title">Stephanie Mejias</h2>
        <p class="welcome">¡Bienvenida como la nueva CEO de DrakAsia!</p>
        <p class="announcement-text">Es un honor anunciar oficialmente este gran paso para nuestra empresa.</p>
        <button class="close-btn" onclick="closeAnnouncement()">Quitar</button>
      </div>
    </div>
    <canvas id="confetti" class="confetti"></canvas>
  </section>

  <!-- ===== Sección: DrakAsia Premium ===== -->
  <section id="premium-section">
    <div class="icon-button icon-premium" onclick="openPremiumModal()">
      <i class="fas fa-crown"></i>
    </div>
    <div class="icon-button icon-privacy" onclick="togglePrivacy()">
      <i class="fas fa-user-shield"></i>
    </div>
    
    <!-- Modal Premium en pantalla completa -->
    <div class="premium-modal-fullscreen" id="premiumModalFullscreen">
      <div class="premium-header">
        <div class="flex items-center justify-between">
          <div class="flex items-center space-x-3">
            <i class="fas fa-crown text-2xl text-yellow-400"></i>
            <span class="text-xl font-bold text-white">DrakAsia Premium</span>
          </div>
          <button class="premium-close-btn" onclick="closePremiumModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>
      
      <div class="premium-content">
        <div class="premium-crown">
          <i class="fas fa-crown"></i>
        </div>
        
        <h1 class="premium-title">DrakAsia Premium</h1>
        <p class="premium-subtitle">Desbloquea la experiencia completa de K-dramas</p>
        
        <div class="premium-features">
          <div class="premium-feature">
            <i class="fas fa-shield-alt"></i>
            <h4>Privacidad Premium</h4>
            <p>Navegación privada y datos protegidos con cifrado avanzado</p>
          </div>
          
          <div class="premium-feature">
            <i class="fas fa-star"></i>
            <h4>Contenido Exclusivo</h4>
            <p>Acceso a series exclusivas y estrenos antes que nadie</p>
          </div>
          
          <div class="premium-feature">
            <i class="fas fa-download"></i>
            <h4>Modo Sin Conexión</h4>
            <p>Disfruta tu contenido favorito sin necesidad de internet</p>
          </div>
          
          <div class="premium-feature">
            <i class="fas fa-ad"></i>
            <h4>Sin Anuncios</h4>
            <p>Experiencia completamente libre de interrupciones publicitarias</p>
          </div>
        </div>
        
        <button class="premium-activate-btn" onclick="activatePremium()">
          <i class="fas fa-crown mr-2"></i>
          Activar Prueba Gratuita de 3 Meses
        </button>
        
        <p style="color: #64748b; font-size: 14px; margin-top: 20px;">
          Sin compromisos • Cancela cuando quieras
        </p>
      </div>
    </div>
    
    <!-- Estado de conexión -->
    <div class="connection-status online" id="connectionStatus">
      <div class="connection-indicator online" id="connectionIndicator"></div>
      <span class="text-sm text-white" id="connectionText">En línea</span>
    </div>
    
    <!-- Overlay modo sin conexión -->
    <div class="offline-overlay" id="offlineOverlay">
      <i class="fas fa-wifi-slash offline-icon"></i>
      <h2 class="text-3xl font-bold text-white mb-4">Sin conexión a internet</h2>
      <p class="text-gray-400 text-center max-w-md mb-8">
        Tu conexión se ha perdido. Algunas funciones pueden estar limitadas.
      </p>
      <div id="premiumOfflineMessage" class="hidden">
        <div class="bg-gradient-to-r from-yellow-400/20 to-orange-400/20 border border-yellow-400/30 rounded-lg p-6 max-w-md">
          <div class="flex items-center mb-3">
            <i class="fas fa-crown text-yellow-400 text-xl mr-3"></i>
            <span class="text-white font-semibold">Modo Premium Activado</span>
          </div>
          <p class="text-gray-300 text-sm">
            Puedes seguir navegando en modo sin conexión gracias a tu suscripción Premium.
          </p>
        </div>
      </div>
      <div id="regularOfflineMessage">
        <p class="text-red-400 font-medium">Necesitas Premium para acceder al modo sin conexión completo.</p>
      </div>
    </div>
    
    <div class="notification" id="notification"></div>
  </section>

  <!-- ===== Sección: K-DramaWiki ===== -->
  <section id="kdrama-section">
    <nav class="fixed top-0 w-full bg-black/50 backdrop-blur-md z-50 p-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold text-cyan-400"><a href="#seriesFeed">DraK Asia</a></h1>
      <div id="searchContainer" class="relative flex space-x-4">
        <div class="relative">
          <input type="text" id="searchInput" class="p-3 pr-10 text-white bg-gray-800/80 border border-gray-600 rounded-full focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent transition-all w-80" placeholder="Buscar series, actores, directores...">
          <button id="searchBtn" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-cyan-400 transition-colors">
            <i class="fas fa-search"></i>
          </button>
        </div>
        
        <!-- Resultados de búsqueda (dropdown temporal) -->
        <div id="searchResults" class="absolute top-full right-0 mt-2 w-96 bg-gray-900 border border-gray-700 rounded-xl shadow-2xl hidden max-h-96 overflow-hidden">
          <div id="searchResultsContent" class="max-h-96 overflow-y-auto">
            <!-- Los resultados se insertarán aquí -->
          </div>
        </div>
      </div>
    </nav>
    <div id="seriesFeed" class="container mx-auto mt-20 p-4">
      <div id="seriesGrid" class="series-grid">
        <!-- Las series se insertarán dinámicamente aquí -->
      </div>
    </div>
    <div id="seriesDetailModal" class="modal-overlay hidden">
      <div class="container mx-auto relative">
        <button class="fixed top-4 right-4 text-white hover:text-red-500 z-50 bg-black/50 w-10 h-10 rounded-full flex items-center justify-center" id="closeDetailModal">
          <i class="fas fa-times text-xl"></i>
        </button>
        <div id="seriesDetailContent" class="bg-gray-800 rounded-lg p-6 relative">
          <img src="https://cdn-icons-png.flaticon.com/512/7021/7021860.png" id="followIcon" class="absolute top-4 right-4 w-10 h-10 cursor-pointer" alt="Follow Icon">
          <div id="followSuccess" class="follow-success">¡Seguido con éxito!</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== Sección: Búsqueda en Pantalla Completa ===== -->
  <section id="searchFullScreen" class="fixed inset-0 bg-black z-50 hidden overflow-y-auto">
    <!-- Header de búsqueda -->
    <div class="sticky top-0 bg-black/95 backdrop-blur-md border-b border-gray-800 p-4 z-10">
      <div class="flex items-center space-x-4">
        <button id="backToMain" class="text-gray-400 hover:text-white transition-colors p-2 rounded-full hover:bg-gray-800">
          <i class="fas fa-arrow-left text-xl"></i>
        </button>
        <div class="flex-1 relative">
          <input type="text" id="searchFullInput" class="w-full p-4 pr-12 text-white bg-gray-900/80 border border-gray-700 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400 focus:border-transparent transition-all text-lg" placeholder="Buscar series, actores, directores..." autofocus>
          <div id="searchFullSpinner" class="absolute right-4 top-1/2 transform -translate-y-1/2 hidden">
            <div class="search-spinner"></div>
          </div>
          <button id="clearSearch" class="absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors hidden">
            <i class="fas fa-times"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Contenido de búsqueda -->
    <div class="container mx-auto p-4 max-w-4xl">
      <!-- Estado inicial -->
      <div id="searchInitialState" class="text-center py-20">
        <div class="mb-8">
          <i class="fas fa-search text-6xl text-gray-600 mb-4"></i>
          <h2 class="text-2xl font-bold text-white mb-2">Explora DrakAsia</h2>
          <p class="text-gray-400">Busca entre más de 20 series coreanas, actores y directores</p>
        </div>
        
        <!-- Sugerencias de búsqueda -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-3 max-w-2xl mx-auto">
          <button class="search-suggestion bg-gray-800/50 hover:bg-gray-700/50 transition-colors p-3 rounded-xl text-left" data-query="Romance">
            <i class="fas fa-heart text-red-400 mb-2"></i>
            <p class="text-white font-medium">Romance</p>
          </button>
          <button class="search-suggestion bg-gray-800/50 hover:bg-gray-700/50 transition-colors p-3 rounded-xl text-left" data-query="Kim Soo-hyun">
            <i class="fas fa-star text-yellow-400 mb-2"></i>
            <p class="text-white font-medium">Actores</p>
          </button>
          <button class="search-suggestion bg-gray-800/50 hover:bg-gray-700/50 transition-colors p-3 rounded-xl text-left" data-query="2024">
            <i class="fas fa-calendar text-blue-400 mb-2"></i>
            <p class="text-white font-medium">Recientes</p>
          </button>
          <button class="search-suggestion bg-gray-800/50 hover:bg-gray-700/50 transition-colors p-3 rounded-xl text-left" data-query="Squid Game">
            <i class="fas fa-fire text-orange-400 mb-2"></i>
            <p class="text-white font-medium">Populares</p>
          </button>
        </div>
      </div>

      <!-- Resultados de búsqueda -->
      <div id="searchFullResults" class="hidden">
        <!-- Header de resultados -->
        <div id="searchResultsHeader" class="mb-6">
          <p class="text-gray-400 text-lg">
            <span id="searchResultsCount">0</span> resultados para "<span id="searchQuery" class="text-cyan-400"></span>"
          </p>
        </div>

        <!-- Lista de resultados -->
        <div id="searchFullResultsList" class="space-y-4">
          <!-- Los resultados se insertarán aquí -->
        </div>

        <!-- Estado sin resultados -->
        <div id="noResultsState" class="text-center py-20 hidden">
          <i class="fas fa-search-minus text-6xl text-gray-600 mb-4"></i>
          <h3 class="text-xl font-bold text-white mb-2">Sin resultados</h3>
          <p class="text-gray-400 mb-6">No encontramos nada que coincida con tu búsqueda</p>
          <button id="clearSearchBtn" class="bg-cyan-500 hover:bg-cyan-600 text-white px-6 py-3 rounded-lg transition-colors">
            Limpiar búsqueda
          </button>
        </div>
      </div>

      <!-- Estado de carga -->
      <div id="searchLoadingState" class="text-center py-20 hidden">
        <div class="search-spinner w-8 h-8 mx-auto mb-4"></div>
        <p class="text-gray-400">Buscando...</p>
      </div>
    </div>
  </section>

  <!-- ===== Sección: Moderadores ===== -->
  <section id="moderators-section">
    <div id="moderators-icon" class="fixed bottom-4 right-4 bg-cyan-400 p-3 rounded-full cursor-pointer">
      <img src="https://cdn-icons-png.flaticon.com/256/18262/18262626.png" alt="Moderadores" class="w-8 h-8">
    </div>
    <div id="moderators-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50">
      <div class="bg-gray-800 p-6 rounded-lg w-full h-full max-h-screen overflow-y-auto relative">
        <button class="absolute top-4 right-4 text-white text-2xl" id="close-modal">
          <i class="fas fa-times"></i>
        </button>
        <h2 class="text-2xl font-bold text-cyan-400 mb-6">Moderadores</h2>
        <div class="mb-4">
          <input type="text" id="moderator-search" placeholder="Buscar moderador..." class="w-full p-2 rounded-lg bg-gray-700 text-white">
        </div>
        <div id="moderators-list" class="space-y-4"></div>
      </div>
    </div>
  </section>

  <!-- ===== Scripts ===== -->
  <script>
    /* --- Política de Privacidad --- */
    const privacyArrow = document.getElementById('privacyArrow');
    const privacyIcon = document.getElementById('privacyIcon');
    const privacyModal = document.getElementById('privacyModal');
    const closeModal = document.getElementById('closeModal');
    privacyArrow.addEventListener('click', () => { privacyIcon.classList.toggle('active'); });
    privacyIcon.addEventListener('click', () => { privacyModal.classList.add('active'); });
    closeModal.addEventListener('click', () => { privacyModal.classList.remove('active'); });
    window.addEventListener('click', (e) => { if (e.target === privacyModal) privacyModal.classList.remove('active'); });

    /* --- Anuncio Oficial --- */
    const canvas = document.getElementById('confetti');
    if (canvas) {
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      const particles = [];
      const colors = ['#007bff', '#ff4081', '#ffc107', '#4caf50', '#ff5722'];
      function createParticle() {
        const size = Math.random() * 10 + 5;
        particles.push({
          x: Math.random() * canvas.width,
          y: canvas.height + size,
          size: size,
          color: colors[Math.floor(Math.random() * colors.length)],
          speed: Math.random() * 3 + 2,
          angle: Math.random() * Math.PI * 2,
        });
      }
      function drawParticles() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        particles.forEach((particle, index) => {
          ctx.fillStyle = particle.color;
          ctx.beginPath();
          ctx.arc(particle.x, particle.y, particle.size / 2, 0, Math.PI * 2);
          ctx.fill();
          particle.y -= particle.speed;
          particle.x += Math.sin(particle.angle) * 2;
          if (particle.y < -particle.size) particles.splice(index, 1);
        });
      }
      function loop() { createParticle(); drawParticles(); requestAnimationFrame(loop); }
      loop();
    }
    function closeAnnouncement() {
      document.getElementById('announcement').style.display = 'none';
      if (canvas) canvas.style.display = 'none';
    }

    /* --- DrakAsia Premium Mejorado --- */
    function openPremiumModal() {
      const isPremiumActive = localStorage.getItem('premiumActive');
      if (isPremiumActive) { 
        showNotification('Ya tienes Premium activo. ¡Disfruta de todos los beneficios!'); 
      } else { 
        document.getElementById('premiumModalFullscreen').style.display = 'block';
        document.body.style.overflow = 'hidden';
      }
    }
    
    function closePremiumModal() {
      document.getElementById('premiumModalFullscreen').style.display = 'none';
      document.body.style.overflow = 'auto';
    }
    
    function activatePremium() {
      localStorage.setItem('premiumActive', 'true');
      localStorage.setItem('premiumStartDate', new Date().toISOString());
      
      // Animación de activación
      const btn = document.querySelector('.premium-activate-btn');
      btn.innerHTML = '<i class="fas fa-check mr-2"></i>¡Activado!';
      btn.style.background = 'linear-gradient(135deg, #22c55e, #16a34a)';
      
      setTimeout(() => {
        closePremiumModal();
        showNotification('¡Premium activado! Disfruta de 3 meses gratis.');
        updateConnectionStatus();
      }, 1500);
    }
    
    function togglePrivacy() {
      const currentStatus = localStorage.getItem('privacyStatus') || 'public';
      const newStatus = currentStatus === 'public' ? 'private' : 'public';
      localStorage.setItem('privacyStatus', newStatus);
      
      const icon = document.querySelector('.icon-privacy i');
      icon.style.transform = 'scale(1.2)';
      setTimeout(() => { icon.style.transform = 'scale(1)'; }, 200);
      
      showNotification(`Modo de privacidad: ${newStatus === 'private' ? 'Activado' : 'Desactivado'}`);
    }
    
    // Sistema de conexión mejorado
    function updateConnectionStatus() {
      const statusEl = document.getElementById('connectionStatus');
      const indicatorEl = document.getElementById('connectionIndicator');
      const textEl = document.getElementById('connectionText');
      const offlineOverlay = document.getElementById('offlineOverlay');
      
      if (navigator.onLine) {
        statusEl.classList.remove('offline');
        statusEl.classList.add('online');
        indicatorEl.classList.remove('offline');
        indicatorEl.classList.add('online');
        textEl.textContent = 'En línea';
        offlineOverlay.style.display = 'none';
        document.body.style.overflow = 'auto';
      } else {
        statusEl.classList.remove('online');
        statusEl.classList.add('offline');
        indicatorEl.classList.remove('online');
        indicatorEl.classList.add('offline');
        textEl.textContent = 'Sin conexión';
        showOfflineMode();
      }
    }
    
    function showOfflineMode() {
      const isPremiumActive = localStorage.getItem('premiumActive');
      const offlineOverlay = document.getElementById('offlineOverlay');
      const premiumMessage = document.getElementById('premiumOfflineMessage');
      const regularMessage = document.getElementById('regularOfflineMessage');
      
      offlineOverlay.style.display = 'flex';
      document.body.style.overflow = 'hidden';
      
      if (isPremiumActive) {
        premiumMessage.classList.remove('hidden');
        regularMessage.style.display = 'none';
        
        // Ocultar overlay después de 3 segundos para usuarios Premium
        setTimeout(() => {
          offlineOverlay.style.display = 'none';
          document.body.style.overflow = 'auto';
          showNotification('Modo sin conexión Premium activado');
        }, 3000);
      } else {
        premiumMessage.classList.add('hidden');
        regularMessage.style.display = 'block';
      }
    }
    
    // Event listeners para conexión
    window.addEventListener('online', updateConnectionStatus);
    window.addEventListener('offline', updateConnectionStatus);
    
    // Inicializar estado de conexión
    document.addEventListener('DOMContentLoaded', updateConnectionStatus);
    
    function showNotification(message) {
      const notification = document.getElementById('notification');
      notification.innerHTML = `
        <div class="flex items-center space-x-2">
          <i class="fas fa-check-circle"></i>
          <span>${message}</span>
        </div>
      `;
      notification.style.display = 'block';
      setTimeout(() => { notification.style.display = 'none'; }, 3000);
    }
    
    // Cerrar modal Premium con Escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closePremiumModal();
      }
    });

    /* --- Funciones de seguimiento --- */
    function followSeries(button) {
      if (!button.classList.contains('followed')) {
        button.classList.add('followed');
        button.innerHTML = `
          <div class="w-10 h-10 bg-blue-500/10 rounded-full flex items-center justify-center">
            <i class="fas fa-check text-lg text-blue-400"></i>
          </div>
          <span class="text-base font-medium text-blue-400">Siguiendo</span>
        `;
        
        showFollowNotification('¡Serie agregada a tu lista!', 'series');
      }
    }

    function followActor(button, actorName) {
      if (!button.classList.contains('followed')) {
        button.classList.add('followed');
        button.innerHTML = 'Siguiendo';
        
        showFollowNotification(`¡Ahora sigues a ${actorName}!`, 'actor');
      }
    }

    function showFollowNotification(message, type) {
      // Crear notificación
      const notification = document.createElement('div');
      notification.className = 'follow-notification';
      
      const icon = document.createElement('div');
      icon.className = 'check-icon';
      icon.innerHTML = '<i class="fas fa-check" style="color: white; font-size: 10px;"></i>';
      
      const text = document.createElement('span');
      text.textContent = message;
      
      notification.appendChild(icon);
      notification.appendChild(text);
      document.body.appendChild(notification);
      
      // Remover después de 2.5 segundos
      setTimeout(() => {
        notification.style.opacity = '0';
        notification.style.transform = 'translate(-50%, -50%) scale(0.9)';
        setTimeout(() => {
          notification.remove();
        }, 300);
      }, 2000);
    }

    /* --- K-DramaWiki --- */
    class KDramaWiki {
      constructor() {
        this.series = [];
        this.actors = {};
        this.isSearching = false;
        this.searchTimeout = null;
        this.initEventListeners();
      }
      initEventListeners() {
        document.getElementById('closeDetailModal').addEventListener('click', () => this.closeDetailModal());
        
        // Búsqueda normal (dropdown)
        document.getElementById('searchBtn').addEventListener('click', () => this.openFullScreenSearch());
        document.getElementById('searchInput').addEventListener('focus', () => this.openFullScreenSearch());
        document.getElementById('searchInput').addEventListener('input', (e) => this.handleSearchInput(e));
        
        // Búsqueda en pantalla completa
        document.getElementById('backToMain').addEventListener('click', () => this.closeFullScreenSearch());
        document.getElementById('searchFullInput').addEventListener('input', (e) => this.handleFullScreenSearch(e));
        document.getElementById('clearSearch').addEventListener('click', () => this.clearFullScreenSearch());
        document.getElementById('clearSearchBtn').addEventListener('click', () => this.clearFullScreenSearch());
        
        // Sugerencias de búsqueda
        document.querySelectorAll('.search-suggestion').forEach(btn => {
          btn.addEventListener('click', (e) => {
            const query = e.currentTarget.dataset.query;
            this.performFullScreenSearch(query);
          });
        });
        
        // Cerrar resultados cuando se hace clic fuera (solo para dropdown)
        document.addEventListener('click', (e) => {
          const searchContainer = document.getElementById('searchContainer');
          const searchResults = document.getElementById('searchResults');
          if (!searchContainer.contains(e.target)) {
            this.hideSearchResults();
          }
        });
        
        // Escape para cerrar búsqueda en pantalla completa
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') {
            this.closeFullScreenSearch();
          }
        });
      }
      
      handleSearchInput(e) {
        const query = e.target.value.trim();
        
        // Cancelar búsqueda anterior
        if (this.searchTimeout) {
          clearTimeout(this.searchTimeout);
        }
        
        if (query.length === 0) {
          this.hideSearchResults();
          return;
        }
        
        // Mostrar spinner después de un pequeño delay
        this.searchTimeout = setTimeout(() => {
          this.performSearch(query);
        }, 300);
      }
      
      showSearchResults() {
        const searchResults = document.getElementById('searchResults');
        const query = document.getElementById('searchInput').value.trim();
        if (query.length > 0) {
          searchResults.classList.remove('hidden');
        }
      }
      
      hideSearchResults() {
        const searchResults = document.getElementById('searchResults');
        searchResults.classList.add('hidden');
      }
      
      performSearch(query = null) {
        if (!query) {
          query = document.getElementById('searchInput').value.trim();
        }
        
        if (query.length === 0) {
          this.hideSearchResults();
          return;
        }
        
        this.isSearching = true;
        this.showSearchSpinner();
        
        // Simular delay de búsqueda para mostrar spinner
        setTimeout(() => {
          const results = this.searchSeries(query);
          this.displaySearchResults(results, query);
          this.isSearching = false;
        }, 500);
      }
      
      showSearchSpinner() {
        const searchResults = document.getElementById('searchResults');
        const searchResultsContent = document.getElementById('searchResultsContent');
        
        searchResults.classList.remove('hidden');
        searchResultsContent.innerHTML = `
          <div class="flex items-center justify-center py-8">
            <div class="search-spinner mr-3"></div>
            <span class="text-gray-400">Buscando...</span>
          </div>
        `;
      }
      
      searchSeries(query) {
        const searchTerm = query.toLowerCase();
        return this.series.filter(series =>
          series.title.toLowerCase().includes(searchTerm) ||
          series.director.toLowerCase().includes(searchTerm) ||
          series.synopsis.toLowerCase().includes(searchTerm) ||
          series.actors.some(actor => actor.name.toLowerCase().includes(searchTerm))
        );
      }
      
      displaySearchResults(results, query) {
        const searchResultsContent = document.getElementById('searchResultsContent');
        
        if (results.length === 0) {
          searchResultsContent.innerHTML = `
            <div class="text-center py-8">
              <i class="fas fa-search text-gray-500 text-3xl mb-3"></i>
              <p class="text-gray-400">No se encontraron resultados para "${query}"</p>
              <p class="text-gray-500 text-sm mt-1">Intenta con otro término de búsqueda</p>
            </div>
          `;
          return;
        }
        
        const resultsHTML = results.map(series => `
          <div class="search-result-item p-4 hover:bg-gray-800/50 transition-colors cursor-pointer border-b border-gray-700/50 last:border-b-0" onclick="wiki.showSeriesDetailsFromSearch('${series.title}')">
            <div class="flex items-center space-x-3">
              <img src="${series.coverImage}" alt="${series.title}" class="w-12 h-16 object-cover rounded-lg flex-shrink-0">
              <div class="flex-1 min-w-0">
                <h4 class="text-white font-medium text-sm truncate">${series.title}</h4>
                <p class="text-gray-400 text-xs mt-1">${series.director} • ${series.year}</p>
                <p class="text-gray-500 text-xs mt-1 line-clamp-2">${series.synopsis.substring(0, 80)}...</p>
                <div class="flex items-center mt-2">
                  ${series.actors.slice(0, 3).map(actor => `
                    <span class="text-cyan-400 text-xs mr-2">${actor.name}</span>
                  `).join('')}
                  ${series.actors.length > 3 ? `<span class="text-gray-500 text-xs">+${series.actors.length - 3} más</span>` : ''}
                </div>
              </div>
              <i class="fas fa-arrow-right text-gray-500 text-sm"></i>
            </div>
          </div>
        `).join('');
        
        searchResultsContent.innerHTML = `
          <div class="mb-3 px-4 py-2 border-b border-gray-700/50">
            <p class="text-gray-400 text-sm">
              <i class="fas fa-search mr-2"></i>
              ${results.length} resultado${results.length !== 1 ? 's' : ''} para "${query}"
            </p>
          </div>
          ${resultsHTML}
        `;
      }
      
      showSeriesDetailsFromSearch(title) {
        const series = this.series.find(s => s.title === title);
        if (series) {
          this.hideSearchResults();
          document.getElementById('searchInput').value = '';
          this.showSeriesDetails(series);
        }
      }
      
      openFullScreenSearch() {
        const fullScreenSection = document.getElementById('searchFullScreen');
        const fullScreenInput = document.getElementById('searchFullInput');
        const normalInput = document.getElementById('searchInput');
        
        // Transferir el valor del input normal al de pantalla completa
        fullScreenInput.value = normalInput.value;
        
        // Mostrar la sección
        fullScreenSection.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
        
        // Focus en el input
        setTimeout(() => {
          fullScreenInput.focus();
          if (fullScreenInput.value.trim()) {
            this.performFullScreenSearch(fullScreenInput.value.trim());
          }
        }, 100);
        
        // Ocultar dropdown si está visible
        this.hideSearchResults();
      }
      
      closeFullScreenSearch() {
        const fullScreenSection = document.getElementById('searchFullScreen');
        const normalInput = document.getElementById('searchInput');
        
        fullScreenSection.classList.add('hidden');
        document.body.style.overflow = 'auto';
        
        // Limpiar input normal
        normalInput.value = '';
        
        // Resetear estado
        this.resetFullScreenSearchState();
      }
      
      resetFullScreenSearchState() {
        document.getElementById('searchInitialState').classList.remove('hidden');
        document.getElementById('searchFullResults').classList.add('hidden');
        document.getElementById('searchLoadingState').classList.add('hidden');
        document.getElementById('noResultsState').classList.add('hidden');
        document.getElementById('clearSearch').classList.add('hidden');
      }
      
      handleFullScreenSearch(e) {
        const query = e.target.value.trim();
        const clearBtn = document.getElementById('clearSearch');
        
        if (query.length > 0) {
          clearBtn.classList.remove('hidden');
          
          // Cancelar búsqueda anterior
          if (this.fullScreenSearchTimeout) {
            clearTimeout(this.fullScreenSearchTimeout);
          }
          
          // Buscar después de un delay
          this.fullScreenSearchTimeout = setTimeout(() => {
            this.performFullScreenSearch(query);
          }, 300);
        } else {
          clearBtn.classList.add('hidden');
          this.resetFullScreenSearchState();
        }
      }
      
      performFullScreenSearch(query) {
        if (!query || query.trim().length === 0) {
          this.resetFullScreenSearchState();
          return;
        }
        
        // Actualizar input si viene de sugerencia
        document.getElementById('searchFullInput').value = query;
        document.getElementById('clearSearch').classList.remove('hidden');
        
        // Mostrar estado de carga
        document.getElementById('searchInitialState').classList.add('hidden');
        document.getElementById('searchFullResults').classList.add('hidden');
        document.getElementById('searchLoadingState').classList.remove('hidden');
        document.getElementById('noResultsState').classList.add('hidden');
        
        // Simular delay de búsqueda
        setTimeout(() => {
          const results = this.searchSeries(query);
          this.displayFullScreenResults(results, query);
        }, 800);
      }
      
      displayFullScreenResults(results, query) {
        document.getElementById('searchLoadingState').classList.add('hidden');
        
        // Actualizar header
        document.getElementById('searchResultsCount').textContent = results.length;
        document.getElementById('searchQuery').textContent = query;
        
        if (results.length === 0) {
          document.getElementById('noResultsState').classList.remove('hidden');
          return;
        }
        
        // Mostrar resultados
        document.getElementById('searchFullResults').classList.remove('hidden');
        
        const resultsList = document.getElementById('searchFullResultsList');
        resultsList.innerHTML = results.map(series => `
          <div class="search-full-result-item bg-gray-900/50 hover:bg-gray-800/50 transition-all p-4 rounded-xl border border-gray-800 cursor-pointer" onclick="wiki.showSeriesDetailsFromFullSearch('${series.title}')">
            <div class="flex items-start space-x-4">
              <img src="${series.coverImage}" alt="${series.title}" class="w-20 h-28 object-cover rounded-lg flex-shrink-0 border border-gray-700">
              <div class="flex-1 min-w-0">
                <h3 class="text-white font-bold text-lg mb-2 truncate">${series.title}</h3>
                <div class="flex items-center space-x-4 text-sm text-gray-400 mb-3">
                  <span class="flex items-center">
                    <i class="fas fa-user-tie mr-1 text-cyan-400"></i>
                    ${series.director}
                  </span>
                  <span class="flex items-center">
                    <i class="fas fa-calendar mr-1 text-cyan-400"></i>
                    ${series.year}
                  </span>
                  <span class="flex items-center">
                    <i class="fas fa-flag mr-1 text-cyan-400"></i>
                    ${series.pais || 'Corea del Sur'}
                  </span>
                </div>
                <p class="text-gray-300 text-sm line-clamp-3 mb-3">${series.synopsis}</p>
                <div class="flex items-center justify-between">
                  <div class="flex items-center space-x-2">
                    ${series.actors.slice(0, 3).map(actor => `
                      <img src="${actor.photo}" alt="${actor.name}" class="w-8 h-8 rounded-full object-cover border border-gray-600" title="${actor.name}">
                    `).join('')}
                    ${series.actors.length > 3 ? `<span class="text-gray-500 text-xs">+${series.actors.length - 3}</span>` : ''}
                  </div>
                  <div class="flex items-center space-x-3">
                    <button class="text-gray-400 hover:text-red-400 transition-colors p-2 rounded-full hover:bg-red-400/10">
                      <i class="far fa-heart"></i>
                    </button>
                    <button class="text-gray-400 hover:text-cyan-400 transition-colors p-2 rounded-full hover:bg-cyan-400/10">
                      <i class="fas fa-plus"></i>
                    </button>
                  </div>
                </div>
              </div>
              <i class="fas fa-chevron-right text-gray-500 text-sm mt-2"></i>
            </div>
          </div>
        `).join('');
      }
      
      showSeriesDetailsFromFullSearch(title) {
        const series = this.series.find(s => s.title === title);
        if (series) {
          this.closeFullScreenSearch();
          this.showSeriesDetails(series);
        }
      }
      
      clearFullScreenSearch() {
        document.getElementById('searchFullInput').value = '';
        document.getElementById('clearSearch').classList.add('hidden');
        this.resetFullScreenSearchState();
        document.getElementById('searchFullInput').focus();
      }
      
      closeDetailModal() {
        const modal = document.getElementById('seriesDetailModal');
        modal.classList.add('hidden');
      }
      renderSeries(filteredSeries = this.series) {
        const grid = document.getElementById('seriesGrid');
        grid.innerHTML = '';
        filteredSeries.forEach(series => {
          const seriesCard = document.createElement('div');
          seriesCard.classList.add('series-card', 'relative', 'cursor-pointer');
          seriesCard.innerHTML = `<img src="${series.coverImage}" class="w-full h-64 object-cover rounded-lg">
                        <div class="absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black to-transparent">
                            <h3 class="text-lg font-bold">${series.title}</h3>
                            <p class="text-sm">${series.director}</p>
                        </div>`;
          seriesCard.addEventListener('click', () => this.showSeriesDetails(series));
          grid.appendChild(seriesCard);
        });
      }
      showSeriesDetails(series) {
        const modal = document.getElementById('seriesDetailModal');
        const content = document.getElementById('seriesDetailContent');
        content.innerHTML = `
          <!-- Header estilo Twitter -->
          <div class="flex items-center p-4 border-b border-gray-700">
            <div class="w-12 h-12 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-tv text-white text-lg"></i>
            </div>
            <div class="flex-1">
              <h2 class="text-xl font-bold text-white">${series.title}</h2>
              <p class="text-gray-400 text-sm">Serie • ${series.year}</p>
            </div>
            
          </div>

          <!-- Imagen principal -->
          <div class="relative">
            <img src="${series.coverImage}" class="w-full h-80 object-cover">
            <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
          </div>

          <!-- Contenido principal -->
          <div class="p-4">
            <!-- Información básica -->
            <div class="flex items-center space-x-4 mb-4 text-sm text-gray-400">
              <span class="flex items-center">
                <i class="fas fa-user-tie mr-1 text-cyan-400"></i>
                ${series.director}
              </span>
              <span class="flex items-center">
                <i class="fas fa-flag mr-1 text-cyan-400"></i>
                ${series.pais || 'Corea del Sur'}
              </span>
              <span class="flex items-center">
                <i class="fas fa-calendar mr-1 text-cyan-400"></i>
                ${series.year}
              </span>
            </div>

            <!-- Sinopsis -->
            <p class="text-white text-base leading-relaxed mb-6">${series.synopsis}</p>

            <!-- Acciones principales -->
            <div class="flex items-center justify-center space-x-8 py-4 border-t border-b border-gray-700 mb-6">
              <button class="flex items-center space-x-2 text-gray-400 hover:text-red-500 transition-colors group">
                <div class="w-10 h-10 group-hover:bg-red-500/10 rounded-full flex items-center justify-center transition-colors">
                  <i class="far fa-heart text-lg"></i>
                </div>
                <span class="text-base font-medium">Me gusta</span>
              </button>
              <button class="series-follow-btn flex items-center space-x-2 text-gray-400 hover:text-cyan-400 transition-colors group" onclick="followSeries(this)">
                <div class="w-10 h-10 group-hover:bg-cyan-400/10 rounded-full flex items-center justify-center transition-colors">
                  <i class="fas fa-plus text-lg"></i>
                </div>
                <span class="text-base font-medium">Seguir serie</span>
              </button>
            </div>

            <!-- Actores estilo Twitter -->
            <div class="mb-6">
              <h3 class="text-lg font-semibold text-white mb-4 flex items-center">
                <i class="fas fa-users mr-2 text-cyan-400"></i>
                Reparto principal
              </h3>
              <div class="space-y-3">
                ${series.actors.map(actor => `
                  <div class="flex items-center space-x-3 p-3 hover:bg-gray-800/50 rounded-lg transition-colors cursor-pointer">
                    <img src="${actor.photo}" alt="${actor.name}" class="w-12 h-12 rounded-full object-cover border-2 border-gray-600">
                    <div class="flex-1">
                      <p class="text-white font-medium">${actor.name}</p>
                      <p class="text-gray-400 text-sm">${actor.role || 'Actor principal'}</p>
                    </div>
                    <button class="actor-follow-btn text-cyan-400 hover:text-cyan-300 text-sm font-medium transition-colors px-3 py-1 rounded-full border border-cyan-400 hover:border-cyan-300" onclick="followActor(this, '${actor.name}')">
                      Seguir
                    </button>
                  </div>
                `).join('')}
              </div>
            </div>

            
          </div>
        `;
        modal.classList.remove('hidden');
        const followIcon = document.getElementById('followIcon');
        const followSuccess = document.getElementById('followSuccess');
        followIcon.addEventListener('click', () => {
          followSuccess.style.display = 'block';
          setTimeout(() => { followSuccess.style.display = 'none'; }, 2000);
        });
        
      }
      
      searchSeries() {
        const searchTerm = document.getElementById('searchInput').value.toLowerCase();
        const filteredSeries = this.series.filter(series =>
          series.title.toLowerCase().includes(searchTerm) ||
          series.actors.some(actor => actor.name.toLowerCase().includes(searchTerm))
        );
        this.renderSeries(filteredSeries);
      }
    }
    const wiki = new KDramaWiki();
    wiki.series = [
      {
        "title": "Amor en la puerta de al lado",
        "director": "Yoo Je-won",
        "pais": "Corea del Sur",
        "year": 2024,
        "synopsis": "Una mujer que intenta rehacer su vida vuelve a Corea y se reencuentra con un amigo de la infancia, con quien comparte una historia complicada.",
        "coverImage": "https://ultimasnoticias.com.ve/wp-content/uploads/2024/10/LOVE-NEXT-DOOR1-scaled.jpg",
        "Etiqueta": "Corea del Sur",
        "actors": [
          { "name": "Jung Hae-in", "photo": "https://1.vikiplatform.com/l/3069127l/78a2ce69f0.jpg?x=b&s=480x270&e=t&q=g", "role": "Moderador" },
          { "name": "Jung So-min", "photo": "https://1.vikiplatform.com/pr/14304pr/081b9b2968.jpg?x=b", "role": "Moderador" }
        ]
      },
      {
        title: "Descendants of the Sun",
        director: "Lee Eung-bok",
        year: 2016,
        synopsis: "Un soldado y una doctora se enamoran mientras enfrentan peligros.",
        coverImage: "https://images.justwatch.com/poster/202546506/s718/descendants-of-the-sun.jpg",
        actors: [
          { "name": "Song Joong-ki", "photo": "https://1.vikiplatform.com/pr/14866pr/62eb4af4e2.jpg?x=b" },
          { "name": "Song Hye-kyo", "photo": "https://cdn.antaranews.com/cache/1200x800/2019/04/16/song.jpg" },
          { "name": "Jin Goo", "photo": "https://1.vikiplatform.com/pr/15589pr/0973e276e0.jpg?x=b" },
          { "name": "Kim Ji-won", "photo": "https://1.vikiplatform.com/pr/14221pr/6c16816ae3.jpg?x=b" },
          { "name": "Onew", "photo": "https://upload.wikimedia.org/wikipedia/commons/8/8e/Onew_Marie_Claire_Korea_April_2022.png" },
          { "name": "Kim Min-seok", "photo": "https://1.vikiplatform.com/pr/15341pr/4185e35ce8.jpg?x=b" }
        ]
      },
      {
        title: "Crash Landing on You",
        director: "Lee Jeong-hyo",
        year: 2019,
        synopsis: "Una heredera surcoreana aterriza accidentalmente en Corea del Norte donde conoce a un oficial del ejército.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BYzNlZWY3ZTMtMTlkNy00OWI4LWJlOGMtNGU3MmNlZjlkZDYxXkEyXkFqcGc@._V1_.jpg",
        actors: [
          { "name": "Hyun Bin", "photo": "https://1.vikiplatform.com/pr/14257pr/6b8c1e07d7.jpg?x=b" },
          { "name": "Son Ye-jin", "photo": "https://1.vikiplatform.com/pr/14256pr/088f82b1b8.jpg?x=b" },
          { "name": "Seo Ji-hye", "photo": "https://1.vikiplatform.com/pr/14259pr/c88066b2e9.jpg?x=b" }
        ]
      },
      {
        title: "Goblin",
        director: "Lee Eung-bok",
        year: 2016,
        synopsis: "Un inmortal duende busca a su novia humana para poder descansar en paz eternamente.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BZWNmMWMzNDMtMGNmZC00NTUzLWE5YWEtMGJjNzBlNWVhMTQ5XkEyXkFqcGc@._V1_.jpg",
        actors: [
          { "name": "Gong Yoo", "photo": "https://1.vikiplatform.com/pr/14255pr/7db91e71b1.jpg?x=b" },
          { "name": "Kim Go-eun", "photo": "https://1.vikiplatform.com/pr/14254pr/4a9b7c2d90.jpg?x=b" },
          { "name": "Lee Dong-wook", "photo": "https://1.vikiplatform.com/pr/14253pr/9e8f5a4b31.jpg?x=b" }
        ]
      },
      {
        title: "Boys Over Flowers",
        director: "Jeon Ki-sang",
        year: 2009,
        synopsis: "Una estudiante de clase trabajadora se infiltra en una escuela de élite donde conoce a los chicos más populares.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BMTU3MjczNTg5MF5BMl5BanBnXkFtZTgwNzA5MjE2MDE@._V1_.jpg",
        actors: [
          { "name": "Lee Min-ho", "photo": "https://1.vikiplatform.com/pr/14252pr/a1b2c3d4e5.jpg?x=b" },
          { "name": "Ku Hye-sun", "photo": "https://1.vikiplatform.com/pr/14251pr/f6g7h8i9j0.jpg?x=b" },
          { "name": "Kim Hyun-joong", "photo": "https://1.vikiplatform.com/pr/14250pr/k1l2m3n4o5.jpg?x=b" }
        ]
      },
      {
        title: "Squid Game",
        director: "Hwang Dong-hyuk",
        year: 2021,
        synopsis: "Personas desesperadas compiten en juegos infantiles mortales por un premio multimillonario.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BYWE3MDVkN2EtNjQ5MS00ZDQ4LTliNzYtMjc2YWMzMDEwMTA3XkEyXkFqcGc@._V1_.jpg",
        actors: [
          { "name": "Lee Jung-jae", "photo": "https://1.vikiplatform.com/pr/14249pr/p1q2r3s4t5.jpg?x=b" },
          { "name": "Park Hae-soo", "photo": "https://1.vikiplatform.com/pr/14248pr/u6v7w8x9y0.jpg?x=b" },
          { "name": "Wi Ha-jun", "photo": "https://1.vikiplatform.com/pr/14247pr/z1a2b3c4d5.jpg?x=b" }
        ]
      },
      {
        title: "Hotel del Luna",
        director: "Oh Choong-hwan",
        year: 2019,
        synopsis: "Una CEO maldita dirige un hotel para espíritus en el centro de Seúl junto a un gerente humano.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BMjE2MjA5MjE5NV5BMl5BanBnXkFtZTgwNzE5MzE3NzM@._V1_.jpg",
        actors: [
          { "name": "IU", "photo": "https://1.vikiplatform.com/pr/14246pr/e6f7g8h9i0.jpg?x=b" },
          { "name": "Yeo Jin-goo", "photo": "https://1.vikiplatform.com/pr/14245pr/j1k2l3m4n5.jpg?x=b" },
          { "name": "Shin Jung-geun", "photo": "https://1.vikiplatform.com/pr/14244pr/o6p7q8r9s0.jpg?x=b" }
        ]
      },
      {
        title: "What's Wrong with Secretary Kim",
        director: "Park Joon-hwa",
        year: 2018,
        synopsis: "Un CEO narcisista intenta reconquistar a su perfecta secretaria cuando ella decide renunciar.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BYzlhNDEzY2EtZDIyYS00NGU3LWI5ZTEtY2I5MzgwNWY0MWY3XkEyXkFqcGc@._V1_.jpg",
        actors: [
          { "name": "Park Seo-joon", "photo": "https://1.vikiplatform.com/pr/14243pr/t1u2v3w4x5.jpg?x=b" },
          { "name": "Park Min-young", "photo": "https://1.vikiplatform.com/pr/14242pr/y6z7a8b9c0.jpg?x=b" },
          { "name": "Lee Tae-hwan", "photo": "https://1.vikiplatform.com/pr/14241pr/d1e2f3g4h5.jpg?x=b" }
        ]
      },
      {
        title: "Kingdom",
        director: "Kim Seong-hun",
        year: 2019,
        synopsis: "En la dinastía Joseon, un príncipe investiga una misteriosa plaga que convierte a las personas en zombis.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BM2Q5MmVkNjMtNjM5Yi00MjJkLWJhOWEtNWY2YWQyOGY5YzljXkEyXkFqcGc@._V1_.jpg",
        actors: [
          { "name": "Ju Ji-hoon", "photo": "https://1.vikiplatform.com/pr/14240pr/i6j7k8l9m0.jpg?x=b" },
          { "name": "Bae Doona", "photo": "https://1.vikiplatform.com/pr/14239pr/n1o2p3q4r5.jpg?x=b" },
          { "name": "Ryu Seung-ryong", "photo": "https://1.vikiplatform.com/pr/14238pr/s6t7u8v9w0.jpg?x=b" }
        ]
      },
      {
        title: "Reply 1988",
        director: "Shin Won-ho",
        year: 2015,
        synopsis: "Cinco amigos crecen juntos en el barrio de Ssangmun durante los Juegos Olímpicos de Seúl de 1988.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BNzMzOTFjM2EtNWViYy00YmQxLWFhMWQtMzI2MjIzMDZkOTgxXkEyXkFqcGc@._V1_.jpg",
        actors: [
          { "name": "Lee Hye-ri", "photo": "https://1.vikiplatform.com/pr/14237pr/x1y2z3a4b5.jpg?x=b" },
          { "name": "Park Bo-gum", "photo": "https://1.vikiplatform.com/pr/14236pr/c6d7e8f9g0.jpg?x=b" },
          { "name": "Go Kyung-pyo", "photo": "https://1.vikiplatform.com/pr/14235pr/h1i2j3k4l5.jpg?x=b" }
        ]
      },
      {
        title: "My Love from the Star",
        director: "Jang Tae-yoo",
        year: 2013,
        synopsis: "Un extraterrestre que ha vivido en la Tierra por 400 años se enamora de una actriz famosa.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BNzlhOGUxN2UtYTI1ZC00MWQ4LWE4NGEtY2UyOTQ3YjFkOTJiXkEyXkFqcGc@._V1_.jpg",
        actors: [
          { "name": "Kim Soo-hyun", "photo": "https://1.vikiplatform.com/pr/14234pr/m6n7o8p9q0.jpg?x=b" },
          { "name": "Jun Ji-hyun", "photo": "https://1.vikiplatform.com/pr/14233pr/r1s2t3u4v5.jpg?x=b" },
          { "name": "Park Hae-jin", "photo": "https://1.vikiplatform.com/pr/14232pr/w6x7y8z9a0.jpg?x=b" }
        ]
      },
      {
        title: "Secret Garden",
        director: "Shin Woo-chul",
        year: 2010,
        synopsis: "Un CEO arrogante y una especialista en acrobacias intercambian cuerpos misteriosamente.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BYzI3NWI0ZDctZjE4ZS00NGVhLWJkNjEtZGU1YmY0NGRlOGRmXkEyXkFqcGc@._V1_.jpg",
        actors: [
          { "name": "Hyun Bin", "photo": "https://1.vikiplatform.com/pr/14231pr/b1c2d3e4f5.jpg?x=b" },
          { "name": "Ha Ji-won", "photo": "https://1.vikiplatform.com/pr/14230pr/g6h7i8j9k0.jpg?x=b" },
          { "name": "Yoon Sang-hyun", "photo": "https://1.vikiplatform.com/pr/14229pr/l1m2n3o4p5.jpg?x=b" }
        ]
      },
      {
        title: "The Heirs",
        director: "Kang Shin-hyo",
        year: 2013,
        synopsis: "Herederos de familias adineradas navegan por el amor y la rivalidad en una escuela de élite.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BMjEzNjg1MTk5NV5BMl5BanBnXkFtZTgwNjE4MzE1MDE@._V1_.jpg",
        actors: [
          { "name": "Lee Min-ho", "photo": "https://1.vikiplatform.com/pr/14228pr/q6r7s8t9u0.jpg?x=b" },
          { "name": "Park Shin-hye", "photo": "https://1.vikiplatform.com/pr/14227pr/v1w2x3y4z5.jpg?x=b" },
          { "name": "Kim Woo-bin", "photo": "https://1.vikiplatform.com/pr/14226pr/a6b7c8d9e0.jpg?x=b" }
        ]
      },
      {
        title: "Coffee Prince",
        director: "Lee Yoon-jung",
        year: 2007,
        synopsis: "Una chica se disfraza de hombre para trabajar en una cafetería y se enamora de su jefe.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BNjg3NDg2NjYxNF5BMl5BanBnXkFtZTgwMDI4MzE2MDE@._V1_.jpg",
        actors: [
          { "name": "Gong Yoo", "photo": "https://1.vikiplatform.com/pr/14225pr/f1g2h3i4j5.jpg?x=b" },
          { "name": "Yoon Eun-hye", "photo": "https://1.vikiplatform.com/pr/14224pr/k6l7m8n9o0.jpg?x=b" },
          { "name": "Lee Sun-kyun", "photo": "https://1.vikiplatform.com/pr/14223pr/p1q2r3s4t5.jpg?x=b" }
        ]
      },
      {
        title: "Itaewon Class",
        director: "Kim Sung-yoon",
        year: 2020,
        synopsis: "Un joven busca venganza contra una corporación alimentaria mientras construye su propio imperio de restaurantes.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BNzQ3NTdmNzEtNzkwNi00OTZjLTliMGYtNzU5MTBjNGJlZGEyXkEyXkFqcGc@._V1_.jpg",
        actors: [
          { "name": "Park Seo-joon", "photo": "https://1.vikiplatform.com/pr/14222pr/u6v7w8x9y0.jpg?x=b" },
          { "name": "Kim Da-mi", "photo": "https://1.vikiplatform.com/pr/14221pr/z1a2b3c4d5.jpg?x=b" },
          { "name": "Yoo Jae-myung", "photo": "https://1.vikiplatform.com/pr/14220pr/e6f7g8h9i0.jpg?x=b" }
        ]
      },
      {
        title: "Strong Woman Do Bong-soon",
        director: "Lee Hyung-min",
        year: 2017,
        synopsis: "Una mujer con fuerza sobrehumana protege a su jefe mientras persigue a un secuestrador.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BMjg2ODg1Nzc1MV5BMl5BanBnXkFtZTgwNDE5MzE2ODE@._V1_.jpg",
        actors: [
          { "name": "Park Bo-young", "photo": "https://1.vikiplatform.com/pr/14219pr/j1k2l3m4n5.jpg?x=b" },
          { "name": "Park Hyung-sik", "photo": "https://1.vikiplatform.com/pr/14218pr/o6p7q8r9s0.jpg?x=b" },
          { "name": "Ji Soo", "photo": "https://1.vikiplatform.com/pr/14217pr/t1u2v3w4x5.jpg?x=b" }
        ]
      },
      {
        title: "W: Two Worlds",
        director: "Jung Dae-yoon",
        year: 2016,
        synopsis: "Una doctora es transportada al mundo de un webtoon donde conoce al protagonista.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BYzE4ODg2NjgtNzI1Yi00MGJhLWJlOWEtNTMwZjFjZTYxYzVhXkEyXkFqcGc@._V1_.jpg",
        actors: [
          { "name": "Lee Jong-suk", "photo": "https://1.vikiplatform.com/pr/14216pr/y6z7a8b9c0.jpg?x=b" },
          { "name": "Han Hyo-joo", "photo": "https://1.vikiplatform.com/pr/14215pr/d1e2f3g4h5.jpg?x=b" },
          { "name": "Kim Eui-sung", "photo": "https://1.vikiplatform.com/pr/14214pr/i6j7k8l9m0.jpg?x=b" }
        ]
      },
      {
        title: "Business Proposal",
        director: "Park Seon-ho",
        year: 2022,
        synopsis: "Una empleada se hace pasar por su mejor amiga en una cita a ciegas con su CEO.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BNzY2OTg2YjktMzFmZi00MDIyLWE3MTYtMGZlOWJhN2U1NzViXkEyXkFqcGc@._V1_.jpg",
        actors: [
          { "name": "Ahn Hyo-seop", "photo": "https://1.vikiplatform.com/pr/14213pr/n1o2p3q4r5.jpg?x=b" },
          { "name": "Kim Se-jeong", "photo": "https://1.vikiplatform.com/pr/14212pr/s6t7u8v9w0.jpg?x=b" },
          { "name": "Kim Min-gue", "photo": "https://1.vikiplatform.com/pr/14211pr/x1y2z3a4b5.jpg?x=b" }
        ]
      },
      {
        title: "True Beauty",
        director: "Kim Sang-hyeop",
        year: 2020,
        synopsis: "Una estudiante insegura se transforma con maquillaje y navega por el amor en la preparatoria.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BNGZmOTg3YzktYmYxOC00NGE3LWJhOWItMTJlNWNjMjI3NjgyXkEyXkFqcGc@._V1_.jpg",
        actors: [
          { "name": "Moon Ga-young", "photo": "https://1.vikiplatform.com/pr/14210pr/c6d7e8f9g0.jpg?x=b" },
          { "name": "Cha Eun-woo", "photo": "https://1.vikiplatform.com/pr/14209pr/h1i2j3k4l5.jpg?x=b" },
          { "name": "Hwang In-yeop", "photo": "https://1.vikiplatform.com/pr/14208pr/m6n7o8p9q0.jpg?x=b" }
        ]
      },
      {
        title: "Hometown's Embrace",
        director: "Yoon Je-won",
        year: 2021,
        synopsis: "Un dentista de la ciudad regresa a su pueblo natal donde se reencuentra con su primer amor.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BYjE4NzI2YzYtOWYzOS00MWQ3LWI2YzQtNzRjYzAwOTgxMTJlXkEyXkFqcGc@._V1_.jpg",
        actors: [
          { "name": "Kim Seon-ho", "photo": "https://1.vikiplatform.com/pr/14207pr/r1s2t3u4v5.jpg?x=b" },
          { "name": "Shin Min-a", "photo": "https://1.vikiplatform.com/pr/14206pr/w6x7y8z9a0.jpg?x=b" },
          { "name": "Lee Sang-yi", "photo": "https://1.vikiplatform.com/pr/14205pr/b1c2d3e4f5.jpg?x=b" }
        ]
      },
      {
        title: "Start-Up",
        director: "Oh Choong-hwan",
        year: 2020,
        synopsis: "Jóvenes emprendedores persiguen sus sueños en el competitivo mundo de las startups tecnológicas.",
        coverImage: "https://m.media-amazon.com/images/M/MV5BYjIzOTgzMzMtMWUwZi00MzIxLTk1NGEtZGJlYzJhYTBjYzJlXkEyXkFqcGc@._V1_.jpg",
        actors: [
          { "name": "Bae Suzy", "photo": "https://1.vikiplatform.com/pr/14204pr/g6h7i8j9k0.jpg?x=b" },
          { "name": "Nam Joo-hyuk", "photo": "https://1.vikiplatform.com/pr/14203pr/l1m2n3o4p5.jpg?x=b" },
          { "name": "Kim Seon-ho", "photo": "https://1.vikiplatform.com/pr/14202pr/q6r7s8t9u0.jpg?x=b" }
        ]
      }
    ];
    wiki.renderSeries();

    /* --- Moderadores --- */
    const moderators = [
      { name: "Darell Vega", role: "Fundador", titlesCount: 78, imgSrc: "https://m.media-amazon.com/images/S/pv-target-images/80d21af2c4f9fb94460aadf6f0d73b52e91a18d1c9de0fe09e69ac8034a809e9._SX300_.jpg", verified: true },
      { name: "uchihashisui2024", role: "Fundador", titlesCount: 0, imgSrc: "https://i.redd.it/qg3hmf3u44v91.jpg", verified: true },
      { name: "Samuel Marin", role: "Fundador", titlesCount: 0, imgSrc: "https://i.pinimg.com/736x/e7/75/ec/e775ecc20a2b9930ca9e7ee62ba05fd7.jpg", verified: true },
      { name: "Emily Torres", role: "Moderador", titlesCount: 5, imgSrc: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTMcommjJ4uxDMd3Vsus3Nl-6WV_w-w3BUfCA&s", verified: false },
      { name: "amy-70", role: "Moderador", titlesCount: 33, imgSrc: "https://occ-0-8407-1722.1.nflxso.net/dnm/api/v6/E8vDc_W8CLv7-yMQu8KMEC7Rrr8/AAAABbJIAbkjHS4QoHR0rs2bMGYAZLRYbWwpDFdg57FzmnBhyB3rZJ7FL-9HWUPvFWCj-UHxTJRBPuFzTdy6vEBmMmg0UvFJnuiB83AW.jpg?r=f44", verified: false },
      { name: "Rafael Lauro", role: "Moderador", titlesCount: 0, imgSrc: "https://cdn.pixabay.com/photo/2021/06/07/19/23/kakashi-6318812_1280.jpg", verified: false },
      { name: "Carlos Méndez", role: "Moderador", titlesCount: 3, imgSrc: "https://i.pinimg.com/736x/0a/64/75/0a64753f3398b81f5898b09463a5e6be.jpg", verified: false },
      { name: "Taty_395", role: "Moderador", titlesCount: 126, imgSrc: "https://i.mydramalist.com/67r8d_5c.jpg", verified: false },
      { name: "Sariblood_33", role: "Moderador", titlesCount: 0, imgSrc: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/20220226_Kim_Se-jeong_%EA%B9%80%EC%84%B8%EC%A0%95_for_Marie_Claire_Korea.jpg/170px-20220226_Kim_Se-jeong_%EA%B9%80%EC%84%B8%EC%A0%95_for_Marie_Claire_Korea.jpg", verified: false },
      { name: "sejo_28", role: "Moderador", titlesCount: 78, imgSrc: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSPHe-4631dB309LoB7ooqusqbNHD2zxk8x3g&s", verified: false },
      { name: "rp_vp", role: "Moderador", titlesCount: 61, imgSrc: "https://media.vogue.mx/photos/6410cf873f370ce21019f8e6/2:3/w_2560%2Cc_limit/la-gloria-song-hye-kyo.jpg", verified: false }
    ];
    function sortModeratorsByTitles() { return moderators.sort((a, b) => b.titlesCount - a.titlesCount); }
    function showModerators(searchQuery = "") {
      const moderatorsList = document.getElementById('moderators-list');
      moderatorsList.innerHTML = "";
      const filteredModerators = sortModeratorsByTitles().filter(moderator => moderator.name.toLowerCase().includes(searchQuery.toLowerCase()));
      filteredModerators.forEach((moderator, index) => {
        const moderatorItem = document.createElement('div');
        moderatorItem.className = "flex items-center bg-gray-700 p-4 rounded-lg relative";
        let verificationIcon = moderator.verified 
            ? `<img src="https://cdn-icons-png.flaticon.com/128/5556/5556625.png" alt="Verificado" class="w-6 h-6 mr-4">`
            : '';
        let roleIcon = moderator.role === "Fundador"
            ? `<img src="https://cdn-icons-png.flaticon.com/512/11476/11476491.png" alt="Fundador" class="w-8 h-8 mr-4 transform scale-125">`
            : `<img src="https://cdn-icons-png.flaticon.com/128/5556/5556625.png" alt="Moderador" class="w-6 h-6 mr-4">`;
        const roleLabel = moderator.role === "Moderador" 
            ? `<span class="bg-cyan-400 text-white px-2 py-1 text-xs rounded-full ml-2">Moderador</span>`
            : `<span class="bg-red-500 text-white px-2 py-1 text-xs rounded-full ml-2">Fundador</span>`;
        const titlesCount = `<span class="text-sm text-gray-300 mt-2">Colaboró con ${moderator.titlesCount} títulos</span>`;
        moderatorItem.innerHTML = `
            ${roleIcon}
            <img src="${moderator.imgSrc}" alt="${moderator.name}" class="w-14 h-14 rounded-full object-cover mr-4">
            <div class="flex-grow">
                <p class="font-bold text-lg text-cyan-400">${moderator.name} ${roleLabel}</p>
                ${titlesCount}
            </div>
            ${verificationIcon}
        `;
        if (index === 0) {
          moderatorItem.innerHTML += `<span class="top-1-label absolute top-2 left-2 bg-yellow-500 text-white px-3 py-1 text-xs rounded-full">Top 1</span>`;
        } else if (index === 1) {
          moderatorItem.innerHTML += `<span class="top-2-label absolute top-2 left-2 bg-silver-500 text-white px-3 py-1 text-xs rounded-full">Top 2</span>`;
        } else if (index === 2) {
          moderatorItem.innerHTML += `<span class="top-3-label absolute top-2 left-2 bg-bronze-500 text-white px-3 py-1 text-xs rounded-full">Top 3</span>`;
        }
        moderatorsList.appendChild(moderatorItem);
      });
      const top1 = document.querySelectorAll('.top-1-label');
      const top2 = document.querySelectorAll('.top-2-label');
      const top3 = document.querySelectorAll('.top-3-label');
      top1.forEach(el => { el.classList.add('animate__animated', 'animate__bounceIn'); });
      top2.forEach(el => { el.classList.add('animate__animated', 'animate__bounceIn'); });
      top3.forEach(el => { el.classList.add('animate__animated', 'animate__bounceIn'); });
    }
    document.getElementById('moderators-icon').addEventListener('click', () => {
      showModerators();
      document.getElementById('moderators-modal').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    });
    document.getElementById('close-modal').addEventListener('click', () => {
      document.getElementById('moderators-modal').classList.add('hidden');
      document.body.style.overflow = 'auto';
    });
    document.getElementById('moderator-search').addEventListener('input', (event) => {
      const searchQuery = event.target.value;
      showModerators(searchQuery);
    });
    window.onload = showModerators;
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
</body>
</html>
